<map proto="1.5.0">
<name>Brady Block: High IQ Color palette</name>
<slug>brady_block</slug>
<version>1.1.3</version>
<created>2025-07-25</created>
<constants>
    <constant id="team-size">6</constant>
    <constant id="team-one-name">Black</constant>
    <constant id="team-two-name">Orange</constant>
    <constant id="team-one-color">black</constant>
    <constant id="team-two-color">gold</constant>
    <constant id="team-one-spawn">-23.5,33,-97.5</constant>
    <constant id="team-one-yaw">0</constant>
    <constant id="team-two-spawn">-23.5,33,8.5</constant>
    <constant id="team-two-yaw">180</constant>
    <constant id="flag-post">-23.5,27,-44.5</constant>
    <constant id="flag-color">yellow</constant>
    <constant id="void-plane">20</constant>
    <constant id="time-limit">12m</constant>
    <constant id="flag-respawn">7s</constant>
    <constant id="flag-prerespawn">6.8s</constant>
    <constant id="deny-block-interaction">false</constant>
    <constant id="main-kit">block-kit</constant>
    <constant id="flag-carrier-kit">flag-carrier-block</constant>
    <constant id="dynamic-instaheal">true</constant>
    <!-- Brady Block specific -->
    <constant id="feather-check-enabled">1</constant>
    <constant id="feather-type">feather</constant>
    <constant id="feather-item-kit">feather-kit</constant>
    <constant id="gapple-locked">false</constant>
</constants>
<include id="touchdown"/>
<authors>
    <author uuid="c31e94b2-7678-4551-847e-989c1423323a"/> <!-- TommyHillfigger -->
    <author uuid="b390b87a-47e8-40d8-968a-9e7e2582a88b"/> <!-- MewTwoKing -->
    <author uuid="e419983c-bb20-438d-b900-717f131a272f"/> <!-- KuNet -->
</authors>
<contributors>
    <contributor uuid="2fd57dff-4cff-4b60-96a4-d26e37759c03" contribution="XML"/> <!-- Furrie -->
    <contributor uuid="9d4779a8-d35f-45d2-b51c-95de7a77e128" contribution="Bridge Snippets"/> <!-- zzuf -->
    <contributor uuid="c25a6f7b-4c42-40da-8cd6-add53f0c84eb" contribution="XML Refinements"/> <!-- arcadeboss -->
</contributors>
<spawns>
    <default>
        <region yaw="90">
            <point>-23.5,27,-44.5</point>
        </region>
    </default>
</spawns>
<kits>
    <kit id="sprint-kit">
        <effect duration="3s" amplifier="2">speed</effect>
    </kit>
    <kit id="feather-kit">
        <item slot="3" amount="1" consumable="sprint" name="`rSprint" material="${feather-type}"/>
    </kit>
    <kit id="block-kit" parent="main-kit" force="true">
        <item slot="1" locked="true" material="firework charge" name="`4`lX"/>
        <item slot="2" amount="4" material="leaves" name="`6Body Block"/>
        <item slot="3" amount="1" consumable="sprint" name="`rSprint" material="${feather-type}"/>
        <game-mode>survival</game-mode>
    </kit>
    <kit id="flag-carrier-block" parent="flag-carrier-kit" force="true">
        <action>
            <replace-item ignore-metadata="true">
                <find material="firework charge"/>
                <replace material="air"/>
            </replace-item>
            <replace-item ignore-metadata="true">
                <find material="snowball"/>
                <replace material="air"/>
            </replace-item>
        </action>
        <!-- An include action will return the football -->
    </kit>
</kits>
<consumables>
    <consumable id="sprint" on="right click" override="false" action="sprint-kit" consume="true"/>
</consumables>
<variables>
    <variable id="feather_check" scope="match" default="${feather-check-enabled}"/>
</variables>
<filters>
    <all id="block-list">
        <material id="leaves">leaves</material>
        <not>
            <void/>
        </not>
    </all>
    <all id="no-feathers">
        <not>
            <carrying ignore-metadata="true">
                <item material="${feather-type}"/>
            </carrying>
        </not>
        <participating/>
        <alive/>
        <variable var="feather_check">1</variable>
    </all>
    <all id="1-feather">
        <carrying ignore-metadata="true">
            <item material="${feather-type}"/>
        </carrying>
        <participating/>
        <variable var="feather_check">1</variable>
    </all>
    <all id="more-than-1-feather">
        <carrying ignore-metadata="true" amount="(1,oo)">
            <item material="${feather-type}"/>
        </carrying>
        <participating/>
        <variable var="feather_check">1</variable>
    </all>
    <after id="feather-regen" duration="7.5s" filter="no-feathers"/>
</filters>
<actions>
    <action id="remove-feather" scope="player">
        <replace-item ignore-metadata="true">
            <find material="${feather-type}"/>
            <replace material="air"/>
        </replace-item>
    </action>
    <action id="no-feathers-message" scope="player">
        <message text=" `eâš  `cYou can sprint again in `e7.5`c seconds!" actionbar="`c`lNO STAMINA!"/>
    </action>
    <action id="1-feather-message" scope="player">
        <message actionbar="`a`lSPRINT READY!"/>
    </action>
    <action id="give-feather" scope="player">
        <kit id="feather-kit"/>
        <message text=" `eFull stamina!"/>
        <sound key="${entity.item.pickup}" pitch="0.8"/>
    </action>
    <action id="feather-action" scope="player" filter="feather_check=1">
        <kit id="feather-kit"/>
    </action>
    <trigger filter="feather-regen" action="give-feather" scope="player"/>
    <trigger filter="more-than-1-feather" action="remove-feather" scope="player"/>
    <trigger filter="no-feathers" action="no-feathers-message" scope="player"/>
    <trigger filter="1-feather" action="1-feather-message" scope="player"/>
</actions>
<regions>
    <cuboid id="playing-field" min="-49,23,-99" max="1,30,10"/>
    <cuboid id="team-one-portal" min="-48,24,-100" max="1,28,-89"/>
    <cuboid id="team-two-portal" min="-48,24,0" max="1,28,11"/>
    <cuboid id="flag-indicator-upper" min="-25,35,-46" max="-22,40,-43"/>
    <cuboid id="flag-indicator-lower" min="-25,32,-46" max="-22,34,-43"/>
    <!-- Brady Block specific -->
    <negative id="not-buildable">
        <cuboid id="buildable-field" min="-49,24,-89" max="1,26,0"/>
    </negative>
    <cuboid id="no-leaves" min="-18.5,24,-39.5" max="-29,26,-50"/>
    <apply block-break="never" region="not-buildable"/>
    <apply block-place="never" region="no-leaves"/>
</regions>
<kill-rewards>
    <kill-reward>
        <item material="leaves" amount="2" name="`6Body Block"/>
        <item material="${feather-type}" amount="1" consumable="sprint" name="`rSprint"/>
    </kill-reward>
</kill-rewards>
<itemremove>
    <item>leaves</item>
    <item>sapling</item>
    <item>"${feather-type}</item>
    <item>firework_charge</item>
</itemremove>
<falling-blocks>
    <rule>
        <filter>
            <material>leaves</material>
        </filter>
    </rule>
</falling-blocks>
<structures>
    <structure id="course" air="true" clear="false">
        <region>
            <cuboid min="-49,23,-89" max="1,30,0"/>
        </region>
    </structure>
    <dynamic structure="course">
        <trigger>
            <filter id="cage-time"/>
        </trigger>
    </dynamic>
</structures>
<maxbuildheight>26</maxbuildheight>
</map>
